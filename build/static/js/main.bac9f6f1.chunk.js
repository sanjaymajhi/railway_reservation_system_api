(this.webpackJsonprailway_reservation_system_client=this.webpackJsonprailway_reservation_system_client||[]).push([[0],{26:function(e,t){e.exports="data:image/png;base64,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UmVhZHlxyWU8AAADc2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDAgNzkuMTYwNDUxLCAyMDE3LzA1LzA2LTAxOjA4OjIxICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjBkOTcxMjkwLWM1YWQtNGNkYS1hZTVjLTA5ZTRmMTJlYjhkNCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpCQzFGODg1RjNGQUExMUU4QUUwMkZFNTdCRDg0RDVGOCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpCQzFGODg1RTNGQUExMUU4QUUwMkZFNTdCRDg0RDVGOCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKE1hY2ludG9zaCkiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpmNjMyMDQzZi01ZTdmLTQ4ODEtYTNjOC1lZTg1NDY2M2U4NmMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MGQ5NzEyOTAtYzVhZC00Y2RhLWFlNWMtMDllNGYxMmViOGQ0Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+79p4NAAABCdJREFUeNpi/P//PwMRwNk/9svXb8giPNxcezcuZiAOMBJpzcUr1//+/YcswszMpK+jSak1QPF37z/++vWLGFPY2NiEBPkZGRlxKWDBFHrx8vXsRSv3Hjr+/fsPBqIBJyeHs51laly4hLgoYd+cvXCltK5DXEwkMthXRUmehYWZGDv+/Pl7597D5Ws3v3z1prupwthAB0vgwMHjp88dfaPr2ib8+fPnP+kAqAuoF2gC0Bw0KSZkK2fMWyYtKVFbmsPMzMxAOgDqAuoFmgA0B6dvPnz8ZO4SfOjoqf+UAaAJQHOApmH3zaUrN4Bp1MxYn4EyADQBaA7QNGRBhDWv374TFOBnZ2ej0BqgCUBzgKZht+bXr9/kRQnWSAKaht0amoJRa0a8NSxoJeC5i1cpN/TP7z/4rPn67VtmcR3l1rCxseKzhp+P98DmpZRb4x+dMfiSwI+fP4E16T+8jQWgLFANUCUJSQAZbNy2p3/avO8/fkqIiXQ0lGmqKWOquX7rbkVD14tXbzg52Auzkvy9XEjzzZOnLzomzAwL8Fo4rUtOVrqmtQ+zZQIUAYoDZYFqgCqB6oG6CFvDwsry/x/UrGs37zAzMWUmR2uoKSfHhAL1f/j0GU0nUAQoDpQFqgGqBKoH6oK64N9/oGnYrREWEnj/4ePvP6AkLy8rBWTs3n/01+/fO/YeEuDn4+PhRrMGKAIUB8oC1QBVAtUDdQHFgQygOUDTsMeNnpYGUMOZ85ctTQ3VVZWALZvatn5QJmBlbaoqwKyKgCIVBenANsb6LbuAXKB6oC4gA2gC0BygaThbNnnlTal5VX///YNw795/BKzYgfUgnpofKAtUA1QJ4QL1Ak0AmoOmDMWaO/cf2niG902b9w9mE0kAqAuoF2gC0Bw0KfTm4KFjp6qaenW01KJD/NRUFbk4OYnJfd++f791+/7SNZuuXLvVVldsZ2VGuA199/7DKXOWnDh1/h9xrXhoWmJktDAzzEmJUVaUJ6GpDuxmvHz95u/fv0S2McRFRYBdEZwqsIbyhSvXyYgbPLrQffP585f2CTP3Hzq+fO4EBTkZoAiwBjp78QouVxrr6xjpawMZDx49iUwucLSzrCxI5+XlwRdowO5AQ+ckRgbGhso8Iz1tiOCWnfu37tyPyxpvd0cfd0cI+9ylq40dk4Ax2lCeh94pgHgKmKGmzF4MbPtWN/d++vyF7AY0UC/QBKA5k2ctApqJEmgPHj+ta+1//OxFWV6ap4sduBr9DswEJFcqTEzcXKAMsH3Poa5Js2SlJJqqCxVkpUGBtnbTjgkzFqirKDZWFkhJiMGrP2AtQqo1wH7axqUzIOxnL17Vt0+4eed+QUZCkK87I7Bvpq6ilBgdDHQLXMOV67fQGsFENgF0NNUQNd6/f/OXrb15+15XYzlAgAEAIoDP+sZXUUAAAAAASUVORK5CYII="},31:function(e,t,a){e.exports=a.p+"static/media/p_detail.605ac621.png"},32:function(e,t,a){e.exports=a.p+"static/media/review.3f72dfdf.png"},33:function(e,t,a){e.exports=a.p+"static/media/payment.6996b18b.png"},35:function(e,t,a){e.exports=a.p+"static/media/index.12ad734d.jpeg"},36:function(e,t,a){e.exports=a.p+"static/media/book.c7cd9a60.jpg"},37:function(e,t,a){e.exports=a.p+"static/media/completed.8c14b86b.jpg"},38:function(e,t,a){e.exports=a(54)},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(25),i=a.n(r),o=a(1),c=a(2),s=a(4),u=a(3),m=a(5),d=a(7),p=a(26),h=a.n(p),E=a(27),b=a.n(E),y=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).logout=function(e){a.props.handleToken(null),localStorage.removeItem("token")},a.date=new Date,a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"navbar"},l.a.createElement("div",{className:"nav1"},l.a.createElement(d.b,{className:"nav-left",to:"/"},l.a.createElement("p",null,l.a.createElement("span",null,l.a.createElement("img",{src:h.a,alt:"logo"})),"  ","BookYourJourney.com")),this.props.token?!0===this.props.admin?l.a.createElement("ul",{id:"navdiv2"},l.a.createElement(d.b,{to:"/admin/"},l.a.createElement("li",null,"Profile")),l.a.createElement("li",null,l.a.createElement("a",{href:"/",onClick:this.logout},"Log Out"))):l.a.createElement("ul",{id:"navdiv2"},l.a.createElement(d.b,{to:"/user/profile"},l.a.createElement("li",null,"Profile")),l.a.createElement("li",null,l.a.createElement("a",{href:"/",id:"logout",onClick:this.logout},"Log Out"))):l.a.createElement("ul",{id:"navdiv1"},l.a.createElement(d.b,{to:"/user/login"},l.a.createElement("li",null,"Login")),l.a.createElement(d.b,{to:"/user/register"},l.a.createElement("li",null,"Register")))),l.a.createElement("div",{className:"nav2"},l.a.createElement("ul",null,l.a.createElement("li",null,this.date.toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})," [",l.a.createElement(b.a,{format:"HH:mm:ss"}),"]"),l.a.createElement(d.b,{to:"/"},l.a.createElement("li",null,"Home")),l.a.createElement(d.b,{to:"/pnr"},l.a.createElement("li",null,"PNR status")),l.a.createElement(d.b,{to:"/faq/"},l.a.createElement("li",null,"FAQ")),l.a.createElement(d.b,{to:"/about/"},l.a.createElement("li",null,"About")),l.a.createElement(d.b,{to:"/contact/"},l.a.createElement("li",null,"Contact")))))}}]),t}(n.Component),v=a(9),f=a(10),g=a(11),k=a.n(g),j=a(30),O=a.n(j),C=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).loadStations=function(){fetch("/booking/stations/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){for(var t=document.getElementById("from_stn"),a=document.getElementById("to_stn"),n=0;n<e.list.length;n++){var l=document.createElement("option");l.value=e.list[n]._id,l.innerHTML=e.list[n].name+" - "+e.list[n].code,t.appendChild(l);var r=document.createElement("option");r.value=e.list[n]._id,r.innerHTML=e.list[n].name+" - "+e.list[n].code,a.appendChild(r)}}))},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(f.a)({},n,l))},a.submit=function(e){e.preventDefault();var t=document.querySelector(".overlay");if(t.style.display="block",localStorage.getItem("token")){var n=Object(v.a)({},a.state);fetch("/booking/trains/",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){"success"===e.found?a.props.history.push({pathname:"/search/",search:"",state:Object(v.a)({},e,{date:a.state.date,class:a.state.class})}):(t.style.display="none",alert(e.error.msg))}))}else t.style.display="none",alert("Please login to book tickets."),a.props.history.push({pathname:"/user/login/"})},a.state={from_stn:"",to_stn:"",date:"",class:""},a.loadStations(),O.a.fire({title:"Welcome to BookYourJourney.com",icon:"info",showCloseButton:!0,html:'\n      <p>\n        Dear user, as of now we have few number of trains running on different\n        routes on different days of the week.\n      </p>\n      <p>You can try out with these details or choose your own:</p>\n      <ul style="display:grid;grid-template-columns:40% 60%;">\n          <li style="text-align:left;">From</li>\n          <li style="text-align:left;">: New Delhi</li>\n          <li style="text-align:left;">To</li>\n          <li style="text-align:left;">: Howrah</li>\n          <li style="text-align:left;">Class</li>\n          <li style="text-align:left;">: All classes</li>\n          <li style="text-align:left;">Departs on</li>\n          <li style="text-align:left;">: mon, tue, thu, fri, sun</li>\n        </ul>\n      <p><strong>Sorry for inconvenience</strong></p>\n      <p><b>Note :</b> Please register with original mobile or email otherwise demo payment link will not be received.</p>',showConfirmButton:!1}),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"main"},l.a.createElement("div",{id:"train-search-form"},l.a.createElement("div",null,"Train Ticket Booking"),l.a.createElement("form",{onSubmit:this.submit},l.a.createElement("div",null,l.a.createElement("select",{name:"from_stn",id:"from_stn",onChange:this.handleChange},l.a.createElement("option",{value:"",selected:"selected",disabled:"disabled"},"From"))),l.a.createElement("div",null,l.a.createElement("select",{name:"to_stn",id:"to_stn",onChange:this.handleChange},l.a.createElement("option",{value:"",disabled:"disabled",selected:"selected"},"To"))),l.a.createElement("div",null,l.a.createElement("select",{name:"class",onChange:this.handleChange},l.a.createElement("option",{value:"",disabled:"disabled",selected:"selected"},"Classes"),l.a.createElement("option",{value:"all"},"All Classses"),l.a.createElement("option",{value:"1A"},"1A"),l.a.createElement("option",{value:"2A"},"2A"),l.a.createElement("option",{value:"3A"},"3A"),l.a.createElement("option",{value:"SL"},"SL"),l.a.createElement("option",{value:"CC"},"CC"))),l.a.createElement("div",null,l.a.createElement("input",{type:"date",name:"date",min:k()().format("YYYY-MM-DD"),max:k()(Date.now()).add(90,"d").format("YYYY-MM-DD"),onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("input",{type:"submit",value:"Search Trains"})))),l.a.createElement("div",{id:"feature"},l.a.createElement("div",null,l.a.createElement("h3",null,"Easy Payment"),l.a.createElement("p",null,"Pay using any credit/debit card,wallet,net banking")),l.a.createElement("div",null,l.a.createElement("h3",null,"Quick Book"),l.a.createElement("p",null,"Sort, filter and recommendations for fast, easy booking")),l.a.createElement("div",null," ",l.a.createElement("h3",null,"Fastest Refund"),l.a.createElement("p",null,"Instant refund with easy step by step tracking"))),l.a.createElement("div",{id:"faq"},l.a.createElement("h2",null,"FAQ"),l.a.createElement("h3",null,"Q) How to book train tickets via RailYatri?"),l.a.createElement("p",null,l.a.createElement("strong",null,"Ans. ")," Now book your train tickets in a jiffy with these easy steps & get your PNR:",l.a.createElement("ul",null,l.a.createElement("li",null,"- Visit BookYourJourney.com to select the boarding & arrival destinations."),l.a.createElement("li",null,"- Select a train that is best suited. Further, fill in your correct passenger information."),l.a.createElement("li",null,"- Proceed to our easy payment gateway."),l.a.createElement("li",null,"- Ticket booking confirmation Email, SMS, WhatsApp message is sent to our users registered details.")),"Our users can also sort, filter and view recommendations for best search results."),l.a.createElement("h3",null,"Q - What Document/I-Card required to book e-Ticket?"),l.a.createElement("p",null,l.a.createElement("strong",null,"Ans. "),"The user is not required to give any input of the photo identity card details of any of the passengers while booking the ticket.But during the journey, all passengers must carry at least one valid ID, like, Aadhar card, driving license, pan card, voter id card."),l.a.createElement("h3",null,"Q - How can I make payment to book e-ticket?"),l.a.createElement("p",null,l.a.createElement("strong",null,"Ans. "),'All payment options have been grouped under specific categories (viz. Credit cards, Net banking, Wallets and Multiple payment service etc.) Select the desired Payment Option from the displayed Payment gateway menus. Click on "Make Payment" button for redirection to selected Bank website.'),l.a.createElement("h3",null,"Q - How can I cancel e-ticket and how will I get refund?"),l.a.createElement("p",null,l.a.createElement("strong",null,"Ans. "),'To cancel your e-ticket log on to www.bookyourjourney.com and go to My Account -> My Transactions -> Booked Ticket History and select the ticket to be cancelled and then click "Cancel Ticket" Cancellation would be confirmed online and the refund would be credited back to the account used for booking as for normal Internet tickets.'),l.a.createElement("h3",null,"Q - What if I forget to carry Photo Identity card?"),l.a.createElement("p",null,l.a.createElement("strong",null,"Ans. "),"One of the passenger booked on an E-ticket in a PNR is required to present any of the identity cards said above in original during the train journey and same will be accepted as a proof of identity failing which the passenger will be treated as travelling without ticket and shall be dealt as per extant Railway Rules."),l.a.createElement("h3",null,"Q - How to postpone/prepone journey?"),l.a.createElement("p",null,l.a.createElement("strong",null,"Ans. "),"This can be done on line by cancelling the original ticket and booking a fresh ticket.")),l.a.createElement("div",{id:"contact"},l.a.createElement("img",{src:"",alt:""}),l.a.createElement("a",{href:"https://github.com/sanjaymajhi"},"Github \u2003 \u2003"),l.a.createElement("img",{src:"",alt:""}),l.a.createElement("a",{href:"https://www.linkedin.com/in/sanjay-majhi-898938188/"},"LinkedIn")),l.a.createElement("div",{id:"footer"},l.a.createElement("p",null,"No Copyrights - www.bookyourjourney.com. No Rights Reserved"),l.a.createElement("p",null,"This is not official website any company."),l.a.createElement("p",null,"Designed and Hosted by Sanjay Majhi")),l.a.createElement("div",{className:"overlay"},l.a.createElement("div",{className:"circular-loader",style:{position:"absolute",top:"45vh",left:"45vw"}}),l.a.createElement("p",{style:{position:"absolute",top:"60vh",left:"44vw",color:"white"}},l.a.createElement("strong",null,"Finding Trains..."))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target.name,n=e.target.value;a.setState(Object(f.a)({},t,n))},a.login_form_submit=function(e){e.preventDefault();var t=document.querySelector(".overlay");t.style.display="block";var n={email:a.state.email,password:a.state.password,"g-recaptcha-response":e.target[2].value};fetch("/user/login/",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved)localStorage.setItem("token",e.token),a.props.handleToken(e.token,e.admin),e.admin?a.props.history.push("/admin/"):a.props.history.push("/user/profile");else{t.style.display="none";var n=document.getElementById("errors");if(n.style.display="block",e.error&&(n.innerHTML+=e.error.msg),e.errors){var l=1;e.errors.map((function(e){n.innerHTML+="<p>"+l+". "+e.msg+"<br/></p>",l++}))}window.location.hash="errors",setTimeout((function(){n.style.display="none"}),1e4)}}))},a.state={email:"",password:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=document.createElement("script");e.src="https://www.google.com/recaptcha/api.js",e.async=!0,document.body.appendChild(e)}},{key:"render",value:function(){return l.a.createElement("div",{className:"main"},l.a.createElement("form",{id:"login_form",onSubmit:this.login_form_submit},l.a.createElement("h1",null,"Login Form"),l.a.createElement("label",{htmlFor:"email"},"Email ID : "),l.a.createElement("input",{id:"email",type:"email",name:"email",value:this.state.email,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"password"},"Password : "),l.a.createElement("input",{id:"password",name:"password",type:"text",value:this.state.password,onChange:this.handleChange}),l.a.createElement("div",null),l.a.createElement("div",{className:"g-recaptcha","data-sitekey":"6LdD4-UUAAAAAHeM_PXNeDk5X0IBFDrbl2S6sLwu"}),l.a.createElement("div",null),l.a.createElement("input",{type:"submit",value:"Login"})),l.a.createElement("div",{id:"errors",style:{display:"none"}},l.a.createElement("strong",null,"Errors :")," "),l.a.createElement("div",{className:"overlay"},l.a.createElement("div",{className:"circular-loader",style:{position:"absolute",top:"45vh",left:"45vw"}}),l.a.createElement("p",{style:{position:"absolute",top:"60vh",left:"43vw"}},"Verifying Credentials...")))}}]),t}(n.Component),A=a(6),S=a.n(A),_=a(8),N=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(f.a)({},n,l))},a.updateProfile=function(e){e.preventDefault();var t=document.querySelector(".overlay");t.style.display="block";var n=localStorage.getItem("token"),l=Object(v.a)({token:n},a.state);fetch("/user/update/",{method:"POST",body:JSON.stringify(l),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved){t.style.display="none";var a=document.getElementById("update_visible");a.style.visibility="visible",window.location.hash="update_visible",setTimeout((function(){a.style.visibility="hidden"}),5e3)}else{t.style.display="none";var n=document.getElementById("errors");if(n.style.display="block",e.error&&(n.innerHTML+=e.error.msg),e.errors){var l=1;e.errors.map((function(e){n.innerHTML+="<p>"+l+". "+e.msg+"<br/></p>",l++}))}window.location.hash="errors",setTimeout((function(){n.style.display="none"}),1e4)}}))},a.register=function(e){e.preventDefault();var t=document.querySelector(".overlay");t.style.display="block";var n=Object(v.a)({},a.state);fetch("/user/register/",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved)alert("Registration Successful...\nProceed to Login."),a.props.history.push("/user/login/");else{t.style.display="none";var n=document.getElementById("errors");if(n.style.display="block",e.error&&(n.innerHTML+=e.error.msg),e.errors){var l=1;e.errors.map((function(e){n.innerHTML+="<p>"+l+". "+e.msg+"<br/></p>",l++}))}window.location.hash="errors",setTimeout((function(){n.style.display="none"}),1e4)}}))},a.state={admin:!1,dob:"",email:"",f_name:"",gender:"",l_name:"",mobile:0,trains_booked:[],username:"",password:""},a.getProfile(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"getProfile",value:function(){var e=this,t={token:localStorage.getItem("token")};fetch("/user/profile/",{method:"POST",body:JSON.stringify(t),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then(function(){var t=Object(_.a)(S.a.mark((function t(a){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({admin:a.admin,dob:k()(a.dob).format("YYYY-MM-DD"),email:a.email,f_name:a.f_name,gender:a.gender,l_name:a.l_name,mobile:a.mobile,trains_booked:a.trains_booked,username:a.username});case 2:document.querySelector(".overlay").style.display="none";case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"admin-main"},l.a.createElement("form",{id:"register_form",onSubmit:localStorage.getItem("token")?this.updateProfile:this.register,method:"post",style:void 0===this.props.admin?{margin:"3vh auto",width:"60%"}:{}},l.a.createElement("h1",{style:{gridColumn:"span 2"}},localStorage.getItem("token")?"Profile":"Registration Form"),l.a.createElement("label",{htmlFor:"f_name"},"First Name : "),l.a.createElement("input",{id:"f_name",type:"text",name:"f_name",value:this.state.f_name,onChange:this.handleChange,required:!0}),l.a.createElement("label",{htmlFor:"l_name"},"Last Name : "),l.a.createElement("input",{id:"l_name",type:"text",name:"l_name",value:this.state.l_name,onChange:this.handleChange,required:!0}),l.a.createElement("label",{htmlFor:"username"},"Username : "),l.a.createElement("input",{id:"username",type:"text",name:"username",value:this.state.username,onChange:this.handleChange,required:!0}),l.a.createElement("label",{htmlFor:"dob"},"Date of Birth : "),l.a.createElement("input",{id:"dob",type:"date",name:"dob",value:this.state.dob,onChange:this.handleChange,required:!0}),l.a.createElement("label",{htmlFor:"email"},"Email : "),l.a.createElement("input",{id:"email",type:"email",name:"email",value:this.state.email,onChange:this.handleChange,required:!0}),l.a.createElement("label",{htmlFor:"mobile"},"Mobile Number : "),l.a.createElement("input",{id:"mobile",type:"text",name:"mobile",value:this.state.mobile,onChange:this.handleChange,required:!0}),l.a.createElement("label",{htmlFor:"gender"},"Gender :"),l.a.createElement("select",{id:"gender",name:"gender",onChange:this.handleChange,required:!0},localStorage.getItem("token")?"":l.a.createElement("option",{value:"",selected:"selected",disabled:!0},"Choose Gender"),l.a.createElement("option",{value:"M",selected:"M"===this.state.gender},"Male"),l.a.createElement("option",{value:"F",selected:"F"===this.state.gender},"Female"),l.a.createElement("option",{value:"O",selected:"O"===this.state.gender},"Others")),l.a.createElement("label",{htmlFor:"password"},"Password : "),l.a.createElement("input",{id:"password",type:"password",name:"password",onChange:this.handleChange,required:!0}),l.a.createElement("div",null),l.a.createElement("input",{type:"submit",value:localStorage.getItem("token")?"Update":"Register"})),l.a.createElement("h2",{id:"update_visible",style:{visibility:"hidden"}},"Profile Updated..."),l.a.createElement("div",{id:"errors",style:{display:"none"}},l.a.createElement("strong",null,"Please correct below errors : "),l.a.createElement("br",null)," ")),l.a.createElement("div",{className:"overlay",style:void 0===this.props.admin?{display:"none"}:{display:"block"}},l.a.createElement("div",{className:"circular-loader",style:{position:"absolute",top:"45vh",left:"45vw"}}),l.a.createElement("p",{style:{position:"absolute",top:"60vh",left:"45vw"}},"Please Wait...")))}}]),t}(n.Component),T=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"contact-page"},l.a.createElement("h1",null,"You may contact us at : "),l.a.createElement("p",null,l.a.createElement("strong",null,"Customer Care Numbers :")," 1234567890, 1234567890 (Language: Hindi and English).."),l.a.createElement("p",null,"For Railway tickets booked through BookYourJourney.com"),l.a.createElement("p",null,"General Information"),l.a.createElement("p",null,l.a.createElement("strong",null,"e-tickets :")," Sanjay@BookYourJourney.com"),l.a.createElement("p",null,l.a.createElement("strong",null,"For Cancellation E-tickets :")," ","etickets@BookYourJourney.com"),l.a.createElement("p",null,l.a.createElement("strong",null,"Registered Office / Corporate Office :")),l.a.createElement("p",null,"Book Your Journey limited,"),l.a.createElement("p",null,"J-83/13, Usmanpur, New Delhi 110053"))}}]),t}(n.Component),D=a(16),x=(a(53),function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).navUnhide=function(e,t){var a=e.target.lastChild;"block"===document.getElementById(t).style.display?(document.getElementById(t).style.display="none",a.innerHTML="arrow_drop_down",e.target.style.backgroundColor="#2b4b75"):(document.getElementById(t).style.display="block",a.innerHTML="arrow_drop_up",e.target.style.backgroundColor="black")},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"a_nav"},l.a.createElement("h2",null,"Menu"),l.a.createElement("p",{onClick:function(t){return e.navUnhide(t,"nav-hide1")}}," ",l.a.createElement("i",{className:"material-icons"},"create")," Create"," ",l.a.createElement("i",{className:"material-icons"},"arrow_drop_down")),l.a.createElement("div",{id:"nav-hide1",style:{display:"none"}},l.a.createElement("ul",null,l.a.createElement(d.b,{to:"/admin/train/create"},l.a.createElement("li",null,"Create Train")),l.a.createElement(d.b,{to:"/admin/route/create"},l.a.createElement("li",null,"Create Route")),l.a.createElement(d.b,{to:"/admin/station/create"},l.a.createElement("li",null,"Create Station")))),l.a.createElement("p",{onClick:function(t){return e.navUnhide(t,"nav-hide2")}},l.a.createElement("i",{className:"material-icons"},"search")," Search"," ",l.a.createElement("i",{className:"material-icons"},"arrow_drop_down")),l.a.createElement("div",{id:"nav-hide2",style:{display:"none"}},l.a.createElement("ul",null,l.a.createElement(d.b,null,l.a.createElement("li",null,"Search Train")),l.a.createElement(d.b,null,l.a.createElement("li",null,"Search Route")),l.a.createElement(d.b,null,l.a.createElement("li",null,"Search Station")))),l.a.createElement("p",{onClick:function(t){return e.navUnhide(t,"nav-hide3")}},l.a.createElement("i",{className:"material-icons"},"update")," Update"," ",l.a.createElement("i",{className:"material-icons"},"arrow_drop_down")),l.a.createElement("div",{id:"nav-hide3",style:{display:"none"}},l.a.createElement("ul",null,l.a.createElement(d.b,null,l.a.createElement("li",null,"Update Train")),l.a.createElement(d.b,null,l.a.createElement("li",null,"Update Route")),l.a.createElement(d.b,null,l.a.createElement("li",null,"Update Station")))),l.a.createElement("p",{onClick:function(t){return e.navUnhide(t,"nav-hide4")}},l.a.createElement("i",{className:"material-icons"},"delete")," Delete"," ",l.a.createElement("i",{className:"material-icons"},"arrow_drop_down")),l.a.createElement("div",{id:"nav-hide4",style:{display:"none"}},l.a.createElement("ul",null,l.a.createElement(d.b,null,l.a.createElement("li",null,"Delete Train")),l.a.createElement(d.b,null,l.a.createElement("li",null,"Delete Route")),l.a.createElement(d.b,null,l.a.createElement("li",null,"Delete Station")))))}}]),t}(n.Component)),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;if("available_tiers"===n||"departing_days"===n){var r=a.state[n];r.push(l),a.setState(Object(f.a)({},n,r))}else a.setState(Object(f.a)({},n,l))},a.loadRoutes=function(){fetch("/booking/routes/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){var t=document.getElementById("route"),a=document.createElement("option");a.innerHTML="Select Route",a.disabled=!0,a.selected=!0,t.appendChild(a);for(var n=0;n<e.list.length;n++){var l=document.createElement("option");l.value=e.list[n]._id,l.innerHTML=e.list[n].route_code,t.appendChild(l)}}))},a.submit=function(e){e.preventDefault();var t=localStorage.getItem("token"),n=Object(v.a)({},a.state,{token:t});fetch("/booking/train/create/",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved){var t=document.getElementById("train_saved");t.style.visibility="visible",setTimeout((function(){t.style.visibility="hidden"}),5e3)}else{var a=document.getElementById("save_error");a.style.visibility="visible",e.error instanceof Array||(e.error=new Array(e.error)),e.error.map((function(e){return a.innerHTML+=e.msg+"\n"})),setTimeout((function(){a.style.visibility="hidden"}),5e3)}}))},a.state={name:"",train_no:Number,available_tiers:[],departing_days:[],route:"",depart_time:"00:00:00",journey_time_mm:Number,journey_time_hh:Number,coach_seats:Number,ticket_cost:Number,total_coaches:Number},a.loadRoutes(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"admin-main"},l.a.createElement("h1",null,"Add Trains Page "),l.a.createElement("form",{id:"form",onSubmit:this.submit},l.a.createElement("label",{htmlFor:"name"},"Name : "),l.a.createElement("input",{type:"text",name:"name",id:"train_name",value:this.state.name,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"train_no"},"Train No : "),l.a.createElement("input",{type:"number",name:"train_no",id:"train_no",value:this.state.train_no,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"available_tiers"},"Available Tiers : "),l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",name:"available_tiers",id:"available_tiers",value:"1A",onChange:this.handleChange}),"1A",l.a.createElement("input",{type:"checkbox",name:"available_tiers",id:"available_tiers",value:"2A",onChange:this.handleChange}),"2A",l.a.createElement("input",{type:"checkbox",name:"available_tiers",id:"available_tiers",value:"3A",onChange:this.handleChange}),"3A",l.a.createElement("input",{type:"checkbox",name:"available_tiers",id:"available_tiers",value:"SL",onChange:this.handleChange}),"SL",l.a.createElement("input",{type:"checkbox",name:"available_tiers",id:"available_tiers",value:"CC",onChange:this.handleChange}),"CC"),l.a.createElement("label",{htmlFor:"departing_days"},"Select departing days : "),l.a.createElement("div",null,l.a.createElement("input",{type:"checkbox",name:"departing_days",id:"departing_days",value:"mon",onChange:this.handleChange}),"Monday",l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",name:"departing_days",id:"departing_days",value:"tue",onChange:this.handleChange}),"Tuesday",l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",name:"departing_days",id:"departing_days",value:"wed",onChange:this.handleChange}),"Wednesday",l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",name:"departing_days",id:"departing_days",value:"thu",onChange:this.handleChange}),"Thursday",l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",name:"departing_days",id:"departing_days",value:"fri",onChange:this.handleChange}),"Friday",l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",name:"departing_days",id:"departing_days",value:"sat",onChange:this.handleChange}),"Saturday",l.a.createElement("br",null),l.a.createElement("input",{type:"checkbox",name:"departing_days",id:"departing_days",value:"sun",onChange:this.handleChange}),"Sunday",l.a.createElement("br",null)),l.a.createElement("label",{htmlFor:"route"},"Select Route"),l.a.createElement("select",{name:"route",id:"route",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"depart_time"},"departure time : "),l.a.createElement("input",{type:"time",name:"depart_time",id:"depart_time",value:this.state.depart_time,onChange:this.handleChange}),l.a.createElement("div",null,"Total journey time : "),l.a.createElement("input",{type:"number",placeholder:"Hours",name:"journey_time_hh",id:"journey_time_hh",value:this.state.journey_time_hh,onChange:this.handleChange}),l.a.createElement("div",null),l.a.createElement("input",{type:"number",placeholder:"Minutes",name:"journey_time_mm",id:"journey_time_mm",value:this.state.journey_time_mm,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"coach_seats"},"coach seats : "),l.a.createElement("input",{type:"number",name:"coach_seats",id:"coach_seats",value:this.state.coach_seats,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"total_coaches"},"Total Coaches : "),l.a.createElement("input",{type:"number",name:"total_coaches",id:"total_coaches",value:this.state.total_coaches,onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"ticket_cost"},"Ticket Cost : "),l.a.createElement("input",{type:"number",name:"ticket_cost",id:"ticket_cost",value:this.state.ticket_cost,onChange:this.handleChange}),l.a.createElement("div",null),l.a.createElement("input",{type:"submit",value:"Save"})),l.a.createElement("h2",{id:"train_saved",style:{visibility:"hidden"}},"Train saved to database..."),l.a.createElement("h2",{id:"save_error",style:{visibility:"hidden"}},"Errors :"," "))}}]),t}(n.Component),R=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).countHandler=function(e){var t=e.target;fetch("/booking/stations/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){var n=document.getElementById("select_div");n.innerHTML="";for(var l=t.value,r=function(t){var l=document.createElement("label");l.htmlFor="station"+t.toString(),l.innerHTML="Station "+(t+1).toString()+": ";var r=document.createElement("select");r.name=r.id="station"+t.toString(),r.onchange=a.handleChange;var i=document.createElement("option");i.innerHTML="Select Station",i.disabled=!0,i.selected=!0,r.appendChild(i),e.list.map((function(e){var t=document.createElement("option");t.value=e._id,t.innerHTML=e.name+" - "+e.code,r.appendChild(t)})),n.appendChild(l),n.appendChild(r)},i=0;i<l;i++)r(i)}))},a.submit=function(){var e=Object(_.a)(S.a.mark((function e(t){var n,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,a.setState({src_stn:a.state.stations[0],des_stn:a.state.stations[a.state.stations.length-1]});case 3:document.getElementById("select_div").innerHTML="",n=localStorage.getItem("token"),l={src_stn:a.state.src_stn,des_stn:a.state.des_stn,stations:a.state.stations,distance:a.state.distance,route_code:a.state.route_code,token:n},fetch("/booking/route/create",{method:"POST",body:JSON.stringify(l),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved){var t=document.getElementById("route_saved");t.style.visibility="visible",setTimeout((function(){t.style.visibility="hidden"}),5e3),a.setState({count:0,src_stn:"",des_stn:"",stations:[],distance:0,route_code:""})}else{var n=document.getElementById("error");n.style.visibility="visible",e.error instanceof Array||(e.error=new Array(e.error)),e.error.map((function(e){return n.innerHTML+=e.msg+"\n"})),setTimeout((function(){n.style.visibility="hidden",n.innerHTML="Errors : "}),5e3)}}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;if("distance"!==n&&"route_code"!==n){var r=a.state.stations;r.push(l),a.setState({stations:r})}else a.setState(Object(f.a)({},n,l))},a.state={count:0,src_stn:"",des_stn:"",stations:[],distance:0,route_code:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"admin-main"},l.a.createElement("h1",null,"Route Create : "),l.a.createElement("form",{id:"form",onSubmit:this.submit},l.a.createElement("label",{htmlFor:"route_code"},"Route Code : "),l.a.createElement("input",{type:"text",name:"route_code",id:"route_code",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"distance"},"Distance : "),l.a.createElement("input",{type:"number",name:"distance",id:"distance",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"count"},"No. of stations : "),l.a.createElement("input",{type:"number",name:"count",onChange:this.countHandler}),l.a.createElement("div",{id:"select_div"}),l.a.createElement("input",{type:"submit",value:"Save"})),l.a.createElement("h1",{id:"route_saved",style:{visibility:"hidden"}},"Route saved to database..."),l.a.createElement("h1",{id:"error",style:{visibility:"hidden"}},"Errors :"," "))}}]),t}(n.Component),F=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(f.a)({},n,l))},a.submit=function(e){e.preventDefault();var t=localStorage.getItem("token"),n=Object(v.a)({},a.state,{token:t});fetch("/booking/station/create/",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved){var t=document.getElementById("stat_add");t.style.visibility="visible",setTimeout((function(){t.style.visibility="hidden"}),5e3)}else{var a=document.getElementById("error");a.style.visibility="visible",e.error instanceof Array||(e.error=new Array(e.error)),e.error.map((function(e){return a.innerHTML+=e.msg+"\n"})),setTimeout((function(){a.style.visibility="hidden",a.innerHTML="Errors : "}),5e3)}}))},a.state={name:"",code:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"admin-main"},l.a.createElement("h1",null,"Station Page"),l.a.createElement("form",{id:"form",onSubmit:this.submit},l.a.createElement("label",{htmlFor:"name"},"Name : "),l.a.createElement("input",{type:"text",name:"name",id:"name",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"code"},"Station Code : "),l.a.createElement("input",{type:"text",name:"code",id:"code",onChange:this.handleChange}),l.a.createElement("div",null),l.a.createElement("input",{type:"submit",value:"Save"})),l.a.createElement("h1",{id:"stat_add",style:{visibility:"hidden"}},"Station added to database..."),l.a.createElement("h1",{id:"error",style:{visibility:"hidden"}},"Error :"," "))}}]),t}(n.Component),P=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.a.createElement("div",{className:"admin"},l.a.createElement(x,null),l.a.createElement(D.c,null,l.a.createElement(D.a,{path:"/admin/",exact:!0,render:function(e){return l.a.createElement(N,Object.assign({},e,{admin:!0}))}}),l.a.createElement(D.a,{path:"/admin/train/create",component:I}),l.a.createElement(D.a,{path:"/admin/route/create",component:R}),l.a.createElement(D.a,{path:"/admin/station/create",component:F})))}}]),t}(n.Component),B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).loadStations=function(){fetch("/booking/stations/",{method:"GET"}).then((function(e){return e.json()})).then((function(e){for(var t=document.getElementById("from_stn"),a=document.getElementById("to_stn"),n=0;n<e.list.length;n++){var l=document.createElement("option");l.value=e.list[n]._id,l.innerHTML=e.list[n].name+" - "+e.list[n].code,t.appendChild(l);var r=document.createElement("option");r.value=e.list[n]._id,r.innerHTML=e.list[n].name+" - "+e.list[n].code,a.appendChild(r)}}))},a.handleChange=function(e){var t=e.target,n=t.name,l=t.value;a.setState(Object(f.a)({},n,l))},a.submit=function(e){e.preventDefault();var t=document.querySelector(".overlay");t.style.display="block";var n=Object(v.a)({},a.state);fetch("/booking/trains/",{method:"POST",body:JSON.stringify(n),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){"success"===e.found?(t.style.display="none",a.props.history.push({pathname:"/search/",search:"",state:Object(v.a)({},e,{date:a.state.date,class:a.state.class})})):(t.style.display="none",alert(e.error.msg))}))},a.state={from_stn:"",to_stn:"",date:"",class:""},a.loadStations(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{onSubmit:this.submit,id:"side_form"},l.a.createElement("div",null,l.a.createElement("select",{name:"from_stn",id:"from_stn",onChange:this.handleChange},l.a.createElement("option",{value:"",selected:"selected",disabled:"disabled"},"From"))),l.a.createElement("div",null,l.a.createElement("select",{name:"to_stn",id:"to_stn",onChange:this.handleChange},l.a.createElement("option",{value:"",disabled:"disabled",selected:"selected"},"To"))),l.a.createElement("div",null,l.a.createElement("input",{type:"date",name:"date",min:k()().format("YYYY-MM-DD"),max:k()(Date.now()).add(90,"d").format("YYYY-MM-DD"),onChange:this.handleChange})),l.a.createElement("div",null,l.a.createElement("select",{name:"class",onChange:this.handleChange},l.a.createElement("option",{value:"",disabled:"disabled",selected:"selected"},"Classes"),l.a.createElement("option",{value:"all"},"All Classses"),l.a.createElement("option",{value:"1A"},"1A"),l.a.createElement("option",{value:"2A"},"2A"),l.a.createElement("option",{value:"3A"},"3A"),l.a.createElement("option",{value:"SL"},"SL"),l.a.createElement("option",{value:"CC"},"CC"))),l.a.createElement("div",null,l.a.createElement("input",{type:"submit",value:"Search Trains"}))),l.a.createElement("div",{id:"header"},l.a.createElement("p",null,"Train Name"),l.a.createElement("p",null,"Departure"),l.a.createElement("p",null,"Travel Time"),l.a.createElement("p",null,"Arrival")),l.a.createElement("div",{className:"overlay"},l.a.createElement("div",{className:"circular-loader",style:{position:"absolute",top:"45vh",left:"45vw"}}),l.a.createElement("p",{style:{position:"absolute",top:"60vh",left:"44vw",color:"white"}},l.a.createElement("strong",null,"Finding Trains..."))))}}]),t}(n.Component),H=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).classHandler=function(){var e=Object(_.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),""!==a.state.class&&((n=document.getElementById(a.state.class)).style.border="1px solid lightgray",n.style.color="#008cff"),t.target.style.border="1px solid green",t.target.style.color="green",e.next=6,a.setState({class:t.target.id});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.teirPrice=function(e,t){switch(t){case"1A":e*=2.5;break;case"2A":e*=2;break;case"3A":e*=1.5;break;case"CC":e*=.5;break;default:e*=1}return e},a.bookHandler=function(e){e.preventDefault(),document.getElementById("nearby-date-results"+a.props.train._id).style.display="grid",document.querySelector(".overlay").style.display="block";var t=k()(a.props.train.depart_time).format("HH"),n=k()(a.props.train.depart_time).format("mm"),l=k()(a.props.date).add("h",t).add("minute",n).format("YYYY-MM-DD HH:mm"),r={id:a.props.train._id,date:l};fetch("/booking/train/status/",{method:"POST",body:JSON.stringify(r),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){document.querySelector(".overlay").style.display="none",document.getElementById("availability"+a.props.train._id).style.display="none";var t=document.getElementById("availability-div"+a.props.train._id);if("AVL"===e.status){var n=document.createElement("div");n.append("Available - "+e.seats),t.appendChild(n),t.style.display="block",t.firstChild.onclick=function(){if(""!==a.state.class){var t=a.teirPrice(a.props.train.ticket_cost,a.state.class);a.props.history.push({pathname:"../book/",search:"",state:Object(v.a)({},a.props.train,{},a.props.route,{date:a.props.date,teir:a.state.class,cost:t,availability:e})})}else alert("select tier for train")}}else t.style.color="red",t.innerHTML="Not Available",t.style.display="block"}))},a.state={class:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.train,a=this.props.route,n=new Date(this.props.train.depart_time),r=(new Date(this.props.train.arrival_time)-n)/36e5,i=r-r%1,o=Math.round(r%1*60);return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"train-name"},l.a.createElement("div",{style:{fontWeight:"600",fontSize:"25px"}},t.name),l.a.createElement("div",{style:{fontWeight:"bold",fontSize:"15px"}},"#",t.train_no),l.a.createElement("p",{style:{fontWeight:"bold",fontSize:"12px"}},"Departs on : ",t.departing_days.map((function(e){return e+", "})))),l.a.createElement("div",null,l.a.createElement("h3",null,new Date(t.depart_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})),l.a.createElement("p",null,l.a.createElement("strong",null,a.src_stn.code)),l.a.createElement("p",{style:{fontSize:"12px",color:"gray"}}," ",l.a.createElement("strong",null,a.src_stn.name)," ")),l.a.createElement("div",null,l.a.createElement("h3",null,i+"H "+o+"m")),l.a.createElement("div",null,l.a.createElement("h3",null,new Date(t.arrival_time).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})),l.a.createElement("p",null,l.a.createElement("strong",null,a.des_stn.code)),l.a.createElement("p",{style:{fontSize:"12px",color:"gray"}}," ",l.a.createElement("strong",null,a.des_stn.name))),l.a.createElement("button",{id:"availability"+this.props.train._id,className:"availability",onClick:this.bookHandler},"Check availability and price"),l.a.createElement("div",{id:"availability-div"+this.props.train._id,style:{padding:"20px",color:"green",fontWeight:"bold",display:"none",outline:0}},l.a.createElement("button",{style:{fontWeight:"bold",border:"1px solid lightgray",outline:0}},"Book Now"),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("div",{id:"nearby-date-results"+this.props.train._id,className:"nearby-date-results"},this.props.train.available_tiers.map((function(a){return l.a.createElement("button",{key:a,id:a,onClick:e.classHandler},a,l.a.createElement("br",null),e.teirPrice(t.ticket_cost,a))}))),l.a.createElement("div",{className:"overlay"},l.a.createElement("div",{className:"circular-loader",style:{position:"absolute",top:"45vh",left:"45vw"}}),l.a.createElement("p",{style:{position:"absolute",top:"60vh",left:"44vw"}},l.a.createElement("strong",null,"Finding Trains..."))))}}]),t}(n.Component),M=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement("div",{id:"train-search-page"},l.a.createElement("div",{id:"train-side-nav"},l.a.createElement(B,this.props)),l.a.createElement("div",{id:"train-main"},this.props.location.state.trains.map((function(t){return l.a.createElement("div",{key:t._id,className:"train-search-results"},l.a.createElement(H,Object.assign({},e.props,{date:e.props.location.state.date,class:e.props.location.state.class,train:t,route:e.props.location.state.route_detail})))}))))}}]),t}(n.Component),L=a(31),U=a.n(L),Y=a(32),J=a.n(Y),W=a(33),Q=a.n(W),z=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,1===this.props.stage?l.a.createElement("img",{src:U.a,alt:"Personal detail"}):2===this.props.stage?l.a.createElement("img",{src:J.a,alt:"Review"}):l.a.createElement("img",{src:Q.a,alt:"Payment"}))}}]),t}(n.Component),Z=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"ticket"},l.a.createElement("div",null,l.a.createElement("div",null,"BookYourJourney.com"),l.a.createElement("p",{style:{fontWeight:"bold"}},this.props.train_name," (",this.props.train_no,")"),l.a.createElement("p",null,this.props.teir,", GENERAL Quota, ",this.props.count," Travellers"),l.a.createElement("p",null,l.a.createElement("strong",null,"Departure "),l.a.createElement("hr",null),l.a.createElement("br",null),new Date(this.props.depart_date).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"short",year:"numeric"})),l.a.createElement("p",null," ",this.props.src_stn.name," (",this.props.src_stn.code,")")," ",l.a.createElement("p",null,new Date(this.props.depart_date).toLocaleTimeString(),","," ",this.props.src_stn.code),l.a.createElement("p",null,l.a.createElement("strong",null,"Arrival"),l.a.createElement("hr",null),l.a.createElement("br",null),new Date(this.props.arrival_date).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"short",year:"numeric"})," "),l.a.createElement("p",null,this.props.des_stn.name," (",this.props.des_stn.code,")"),l.a.createElement("p",null," ",new Date(this.props.arrival_date).toLocaleTimeString(),",",this.props.des_stn.code))))}}]),t}(n.Component),V=a(34),G=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=-1===["1A","2A","3A"].indexOf(this.props.teir)?15:35,t=.05*(this.props.cost+e),a=this.props.cost+e+t;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"ticket"},l.a.createElement("div",null,l.a.createElement("div",null,"BookYourJourney.com"),l.a.createElement("p",null,l.a.createElement("strong",null,this.props.train_name," (",this.props.train_no,")")),l.a.createElement("p",null,this.props.teir,", GENERAL Quota, ",this.props.count," Travellers"),l.a.createElement("ul",null,l.a.createElement("li",null,"Ticket Fare "),l.a.createElement("li",null,": ","Rs. "+this.props.cost),l.a.createElement("li",null,"Convenience Fee"),l.a.createElement("li",null,": ","Rs. "+e),l.a.createElement("li",null,"GST "),l.a.createElement("li",null,": ","Rs. "+t),l.a.createElement("hr",{style:{gridColumn:"span 2",margin:"5px 0"}}),l.a.createElement("li",null,l.a.createElement("strong",null," Total Fare ")),l.a.createElement("li",null,": ","Rs. "+a," ")),l.a.createElement("p",null,l.a.createElement("strong",null,"RUPEES ",Object(V.toWords)(a).toUpperCase())," "),l.a.createElement("p",null,"Note: ticket price includes concessions and food price."))))}}]),t}(n.Component),q=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,1===this.props.stage?l.a.createElement(Z,this.props):l.a.createElement(G,this.props))}}]),t}(n.Component),X=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleCount=function(){var e=Object(_.a)(S.a.mark((function e(t){var n,l;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=document.getElementById("passenger1"),(l=n.cloneNode(!0)).id="passenger"+(a.state.count+1).toString(),l.onsubmit=a.addPassenger,l[0].value="",l[1].value="",l.firstChild.innerHTML=a.props.state.count+1+".",document.getElementById("passenger").appendChild(l),e.next=12,a.setState({count:a.state.count+1});case 12:a.props.count(a.state.count);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(){var e=Object(_.a)(S.a.mark((function e(t){var n,l,r,i,o,c,s,u,m;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=a.state.count,l=1;case 3:if(!(l<=n)){e.next=31;break}if(r=document.getElementById("passenger"+l.toString()),!((i={id:r.id,name:r[0].value,age:r[1].value,gender:r[2].value,food:r[3].value}).age>=60)){e.next=12;break}return o=a.state.cost+.5*a.props.ticket_rate,e.next=10,a.setState({cost:o});case 10:e.next=15;break;case 12:return c=a.state.cost+a.props.ticket_rate,e.next=15,a.setState({cost:c});case 15:if("V"!==i.food){e.next=21;break}return s=a.state.cost+80,e.next=19,a.setState({cost:s});case 19:e.next=24;break;case 21:return u=a.state.cost+130,e.next=24,a.setState({cost:u});case 24:return(m=a.state.passengers).push(i),e.next=28,a.setState({passengers:m});case 28:l++,e.next=3;break;case 31:return a.props.cost(a.state.cost),e.next=34,a.props.stageHandler(a.props.stage+1);case 34:return e.next=36,a.props.passengersHandler({passengers:a.state.passengers,mobile:a.state.mobile});case 36:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={passengers:[],count:1,cost:0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"passenger"},l.a.createElement("h2",null,"Passenger Details"),l.a.createElement("form",{className:"p_detail",id:"passenger1"},l.a.createElement("div",{style:{textAlign:"left",fontWeight:"bold",display:"inline"}}," ","1."),l.a.createElement("input",{type:"text",name:"name",id:"name",placeholder:"Full Name",required:!0}),l.a.createElement("input",{type:"number",name:"age",id:"age",placeholder:"Age",required:!0}),l.a.createElement("select",{name:"gender",id:"gender",required:!0},l.a.createElement("option",{value:"",selected:!0,disabled:!0},"Gender"),l.a.createElement("option",{value:"M"},"Male"),l.a.createElement("option",{value:"F"},"Female"),l.a.createElement("option",{value:"O"},"Other")),l.a.createElement("select",{name:"food",id:"food",required:!0},l.a.createElement("option",{value:"",selected:!0,disabled:!0},"Food Choice"),l.a.createElement("option",{value:"V"},"Veg"),l.a.createElement("option",{value:"NV"},"Non Veg")))),l.a.createElement("p",null,"Note: The ID card will be required during journey"),l.a.createElement("button",{onClick:this.handleCount},"+ Add passengers"),l.a.createElement("div",{id:"email-phone"},l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("strong",null,"Email :",this.props.state.user.email)),l.a.createElement("br",null),l.a.createElement("p",null,"Ticket details will be sent to this email")),l.a.createElement("div",null,l.a.createElement("div",null,l.a.createElement("strong",null,"Mobile :",this.props.state.user.mobile)),l.a.createElement("p",null,"SMS will be sent to this number"))),l.a.createElement("p",null,l.a.createElement("strong",null,"Note : "),"To change mobile or email, update your profile."),l.a.createElement("button",{onClick:this.handleSubmit},"Continue"))}}]),t}(n.Component),K=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).submitHandler=function(){var e=Object(_.a)(S.a.mark((function e(t){var n,l,r,i,o,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=document.getElementById("submitHandler")).disabled=!0,l=a.props.state,r=-1===["1A","2A","3A"].indexOf(l.teir)?15:35,i=.05*(l.cost+r),o=100*(l.cost+r+i),c={customer:{name:l.user.f_name+" "+l.user.l_name,email:l.user.email,contact:l.user.mobile},type:"link",amount:o,currency:"INR",description:"Payment link for your train booking.",sms_notify:1,email_notify:1},e.next=9,fetch("/extapi/invoices/",{method:"POST",body:JSON.stringify(c),headers:{"content-type":"application/json",authorization:"Basic cnpwX3Rlc3Rfa0hiVWVmN1diTVJJQ3M6dUF1UHRRRExBbXN3aEZHb0NDYklCdWZz"}}).then((function(e){return e.json()})).then((function(e){a.props.paymentHandler(e.id)}));case 9:a.props.stageHandler(a.props.stage+1),n.disabled=!1;case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.state;return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{id:"review"},l.a.createElement("strong",null,l.a.createElement("p",{id:"review-train-name"},e.train_name," (",e.train_no,") | Teir : ",e.teir," | GENERAL |"," "+e.count," Travellers")),l.a.createElement("div",{id:"review-station"},l.a.createElement("div",null,l.a.createElement("p",{className:"review-station-header"},"From Station"),l.a.createElement("p",null,l.a.createElement("strong",null,e.src_stn.name," (",e.src_stn.code,")")),l.a.createElement("p",null,"Departure : ",new Date(e.depart_date).toLocaleString())),l.a.createElement("div",null,l.a.createElement("p",{className:"review-station-header"},"To Station"),l.a.createElement("p",null,l.a.createElement("strong",null,e.des_stn.name," (",e.des_stn.code,")")),l.a.createElement("p",null,"Arrival : ",new Date(e.arrival_date).toLocaleString()))),l.a.createElement("p",{id:"review-availability"},l.a.createElement("strong",null,"Availability Status :"," ",e.availability.seats+" / "+e.availability.status)),l.a.createElement("div",null,l.a.createElement("div",{id:"review-passenger"},l.a.createElement("div",{id:"review-passenger-header"},l.a.createElement("strong",null," Travelling Passengers")),e.passengers.map((function(e){return l.a.createElement("div",{className:"review-passenger-detail",key:e.id},"Name : ",e.name," | Age : ",e.age," | Food :"," ",e.food," | Gender : ",e.gender," | ",e.age>=60?"Senior citizen concession given":"")})))),l.a.createElement("button",{id:"submitHandler",onClick:this.submitHandler},"Continue")))}}]),t}(n.Component),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).fetchPayment=function(){var e=a.props.state,t=-1===["1A","2A","3A"].indexOf(e.teir)?15:35,n=.05*(e.cost+t),l=e.cost+t+n,r=e.user,i={train_name:e.train_name,train_no:e.train_no,teir:e.teir,count:e.count,src_stn:e.src_stn._id,des_stn:e.des_stn._id,depart_date:e.depart_date,arrival_date:e.arrival_date,passengers:e.passengers,cost:l,user:r._id,paymentId:"",available_seats:e.availability.seats,status:e.availability.status},o=setInterval(Object(_.a)(S.a.mark((function t(){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("/extapi/invoices/"+e.paymentId,{method:"get",headers:{authorization:"Basic cnpwX3Rlc3Rfa0hiVWVmN1diTVJJQ3M6dUF1UHRRRExBbXN3aEZHb0NDYklCdWZz"}}).then((function(e){return e.json()})).then((function(e){null!==e.payment_id&&(i.paymentId=e.payment_id,fetch("/booking/ticket/",{method:"POST",body:JSON.stringify(Object(v.a)({},i)),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return fetch("/booking/ticket/search/",{method:"post",body:JSON.stringify({pnr:e.id}),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return a.props.history.push({pathname:"/ticket/",search:"",state:Object(v.a)({},e)})}))})),clearInterval(o))}));case 2:case"end":return t.stop()}}),t)}))),5e3)},a.fetchPayment(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("strong",null,"Please Complete your payment within 5 minutes..."),l.a.createElement("p",null,"Payment link has been sent to your mobile phone and email."),l.a.createElement("p",null,"Note : For demo payment select netbanking in payment page and then select any bank and proceed, no bank details will be asked"),l.a.createElement("p",null,"After you have completed your payment, your seats will be confirmed and ticket will be available for download."),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",{className:"circular-loader"}),l.a.createElement("p",null,"Waiting for Payment..."))}}]),t}(n.Component),ee=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement(l.a.Fragment,null,1===this.props.stage?l.a.createElement(X,this.props):2===this.props.stage?l.a.createElement(K,this.props):l.a.createElement($,this.props))}}]),t}(n.Component),te=function(e){function t(e){var a;Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).loadUser=function(){var e={token:localStorage.getItem("token")};fetch("/user/profile/",{method:"POST",body:JSON.stringify(e),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.setState({user:e})}))},a.createDepartAndArrivalDate=function(){var e=a.props.location.state,t=k()(e.depart_time).format("HH"),n=k()(e.depart_time).format("mm"),l=k()(e.date).add("h",t).add("minute",n).format("YYYY-MM-DD HH:mm"),r=new Date(e.depart_time),i=new Date(e.arrival_time),o=Math.abs(r-i)/6e4;return{depart_date:l,arrival_date:k()(l).add("minute",o).format("YYYY-MM-DD HH:mm")}},a.countHandler=function(e){a.setState({count:e})},a.costHandler=function(e){a.setState({cost:e})},a.stageHandler=function(e){a.setState({stage:e})},a.passengersHandler=function(e){a.setState({passengers:e.passengers,mobile:e.mobile})},a.paymentHandler=function(e){a.setState({paymentId:e})};var n=a.props.location.state,l=a.createDepartAndArrivalDate();return a.state={stage:1,count:1,train_name:n.name,train_no:n.train_no,teir:n.teir,depart_date:new Date(l.depart_date),arrival_date:new Date(l.arrival_date),src_stn:n.src_stn,des_stn:n.des_stn,cost:n.cost,passengers:[],mobile:"",availability:n.availability,user:{},paymentId:""},a.loadUser(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{id:"book-train"},l.a.createElement("div",{id:"book-header"},l.a.createElement(z,{stage:this.state.stage})),l.a.createElement("div",{id:"book-body"},l.a.createElement("div",{id:"book-main"},l.a.createElement(ee,Object.assign({},this.props,{count:this.countHandler,cost:this.costHandler,ticket_rate:this.state.cost,stage:this.state.stage,stageHandler:this.stageHandler,passengersHandler:this.passengersHandler,state:this.state,paymentHandler:this.paymentHandler}))),l.a.createElement("div",{id:"book-side-nav"},l.a.createElement(q,this.state))))}}]),t}(n.Component),ae=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.a.createElement("div",{className:"a_nav"},l.a.createElement("h2",null,"Menu"),l.a.createElement(d.b,{to:"/"},l.a.createElement("p",null," ",l.a.createElement("i",{className:"material-icons"},"search")," Search Train"," ")),l.a.createElement(d.b,{to:"/user/tickets"},l.a.createElement("p",null,l.a.createElement("i",{className:"material-icons"},"local_activity")," Your Tickets"," ")),l.a.createElement(d.b,{to:"/user/txns"},l.a.createElement("p",null,l.a.createElement("i",{className:"material-icons"},"update"),"Transactions"," ")),l.a.createElement(d.b,{to:"/user/cpass"},l.a.createElement("p",null,l.a.createElement("i",{className:"material-icons"},"mode_edit")," Change Pwd"," ")))}}]),t}(n.Component),ne=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).loadTickets=function(){fetch("/user/tickets/",{method:"POST",body:JSON.stringify({token:localStorage.getItem("token")}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then(function(){var e=Object(_.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({tickets:t.tickets});case 2:document.querySelector(".overlay").style.display="none";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},a.loadTicketDetails=function(e){e.preventDefault(),document.querySelector(".overlay").style.display="block",fetch("/booking/ticket/search/",{method:"POST",body:JSON.stringify({pnr:e.target.innerHTML}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){return a.props.history.push({pathname:"/ticket/",search:"",state:Object(v.a)({},e)})}))},a.state={tickets:[]},a.loadTickets(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=0;return l.a.createElement("div",{className:"admin-main",style:{padding:"10px 10px"}},l.a.createElement("h2",null,"Booked Tickets"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Sr. No."),l.a.createElement("th",null,"PNR No."),l.a.createElement("th",null,"Booked On"),l.a.createElement("th",null,"Departure Date"),l.a.createElement("th",null,"Payment Id"),l.a.createElement("th",null,"Status"))),l.a.createElement("tbody",null,this.state.tickets.map((function(a){return l.a.createElement("tr",{key:t++},l.a.createElement("td",null,t),l.a.createElement("td",{onClick:e.loadTicketDetails}," ",l.a.createElement(d.b,null,a._id)),l.a.createElement("td",null,new Date(a.bookedOn).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})),l.a.createElement("td",null,new Date(a.depart_date).toLocaleDateString("en-US",{day:"numeric",month:"long",year:"numeric"})),l.a.createElement("td",null,a.paymentId.split("cancelled")),l.a.createElement("td",null,""===a.paymentId.split("cancelled")[1]?"Cancelled":new Date(a.arrival_date)<Date.now()?"completed":"active"))})))),l.a.createElement("div",{className:"overlay",style:{display:"block"}},l.a.createElement("div",{className:"circular-loader",style:{position:"absolute",top:"45vh",left:"45vw"}}),l.a.createElement("p",{style:{position:"absolute",top:"60vh",left:"43vw"}},"Please Wait...")))}}]),t}(n.Component),le=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).transactionStatus=function(){fetch("/user/payment_ids",{method:"POST",body:JSON.stringify({token:localStorage.getItem("token")}),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then(function(){var e=Object(_.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.paymentIds.map(function(){var e=Object(_.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("/extapi/payments/"+t.split("cancelled")[0],{method:"get",headers:{authorization:"Basic cnpwX3Rlc3Rfa0hiVWVmN1diTVJJQ3M6dUF1UHRRRExBbXN3aEZHb0NDYklCdWZz"}}).then((function(e){return e.json()})).then(function(){var e=Object(_.a)(S.a.mark((function e(t){var n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("refunded"!==t.status){e.next=5;break}return e.next=3,fetch("/extapi/payments/"+t.id+"/refunds",{method:"GET",headers:{authorization:"Basic cnpwX3Rlc3Rfa0hiVWVmN1diTVJJQ3M6dUF1UHRRRExBbXN3aEZHb0NDYklCdWZz"}}).then((function(e){return e.json()})).then(function(){var e=Object(_.a)(S.a.mark((function e(a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.refundDate=new Date(1e3*a.items[0].created_at),t.refundId=a.items[0].id;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:e.next=7;break;case 5:t.refundId="-",t.refundDate="";case 7:return(n=a.state.txns).push(t),e.next=11,a.setState({txns:n});case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:document.querySelector(".overlay").style.display="none";case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},a.state={txns:[]},a.transactionStatus(),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=0;return l.a.createElement("div",{className:"admin-main",style:{padding:"10px"}},l.a.createElement("h2",null,"Transactions"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Sr. No."),l.a.createElement("th",null,"Payment Id"),l.a.createElement("th",null,"Amount"),l.a.createElement("th",null,"Payment Date"),l.a.createElement("th",null,"Payment Method"),l.a.createElement("th",null,"Status"),l.a.createElement("th",null,"Refund Id / Date"))),l.a.createElement("tbody",null,this.state.txns.map((function(t){return l.a.createElement("tr",{key:e++},l.a.createElement("td",null,e),l.a.createElement("td",null,t.id),l.a.createElement("td",null,t.amount/100),l.a.createElement("td",null,new Date(1e3*t.created_at).toLocaleString()),l.a.createElement("td",null,t.method),l.a.createElement("td",null,t.status),l.a.createElement("td",null,l.a.createElement("div",null,l.a.createElement("strong",null,t.refundId)),l.a.createElement("br",null),l.a.createElement("div",null,""===t.refundDate?"":new Date(t.refundDate).toLocaleDateString("en-Us",{day:"numeric",month:"long",year:"numeric"}))))})))),l.a.createElement("div",{className:"overlay",style:{display:"block"}},l.a.createElement("div",{className:"circular-loader",style:{position:"absolute",top:"45vh",left:"45vw"}}),l.a.createElement("p",{style:{position:"absolute",top:"60vh",left:"43vw"}},"Please Wait...")))}}]),t}(n.Component),re=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(){var e=Object(_.a)(S.a.mark((function e(t){var n,l,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target,l=n.name,r=n.value,e.next=5,a.setState(Object(f.a)({},l,r));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSubmit=function(e){e.preventDefault();var t=document.querySelector(".overlay");t.style.display="block";var n=Object(v.a)({},a.state,{token:localStorage.getItem("token")});fetch("/user/change_pass/",{method:"POST",body:JSON.stringify(n),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){if("success"===e.saved){var a=document.getElementById("saved");a.style.display="block",setTimeout((function(){a.innerHTML="",a.style.display="none"}),5e3)}else{var n=document.getElementById("errors");e.error instanceof Array?n.innerHTML+=e.error.map((function(e){return e.msg})):n.innerHTML+=e.error.msg,n.style.display="block",setTimeout((function(){n.innerHTML="Errors : ",n.style.display="none"}),5e3)}t.style.display="none",alert("Plaese Login Again"),localStorage.removeItem("token"),document.getElementById("logout").click()}))},a.state={c_pass:"",n_pass:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"admin-main"},l.a.createElement("h2",null,"Change Password"),l.a.createElement("form",{onSubmit:this.handleSubmit},l.a.createElement("label",{htmlFor:"c_pass"},"Current Password : "),l.a.createElement("input",{type:"password",name:"c_pass",id:"c_pass",onChange:this.handleChange}),l.a.createElement("label",{htmlFor:"n_pass"},"New Password"),l.a.createElement("input",{type:"password",name:"n_pass",id:"n_pass",onChange:this.handleChange}),l.a.createElement("div",null),l.a.createElement("input",{type:"submit",value:"Change Password"})),l.a.createElement("h2",{id:"saved",style:{display:"none"}},"Password Changed Successfully..."),l.a.createElement("div",{id:"errors",style:{display:"none"}},"Errors :"),l.a.createElement("div",{className:"overlay"},l.a.createElement("div",{className:"circular-loader",style:{position:"absolute",top:"45vh",left:"45vw"}}),l.a.createElement("p",{style:{position:"absolute",top:"60vh",left:"43vw"}},"Please Wait...")))}}]),t}(n.Component),ie=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.a.createElement("div",{className:"admin"},l.a.createElement(ae,null),l.a.createElement(D.c,null,l.a.createElement(D.a,{path:"/user/profile",exact:!0,render:function(e){return l.a.createElement(N,Object.assign({},e,{admin:!1}))}}),l.a.createElement(D.a,{path:"/user/tickets",component:ne}),l.a.createElement(D.a,{path:"/user/txns",component:le}),l.a.createElement(D.a,{path:"/user/cpass",component:re})))}}]),t}(n.Component),oe=a(35),ce=a.n(oe),se=a(36),ue=a.n(se),me=a(37),de=a.n(me),pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).ticketStatus=function(e){fetch("/extapi/payments/"+e.split("cancelled")[0],{method:"get",headers:{authorization:"Basic cnpwX3Rlc3Rfa0hiVWVmN1diTVJJQ3M6dUF1UHRRRExBbXN3aEZHb0NDYklCdWZz"}}).then((function(e){return e.json()})).then(function(){var e=Object(_.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,a.setState({paymentObject:t});case 3:document.querySelector(".overlay").style.display="none";case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},a.cancelHandler=function(){var e=document.getElementById("cancel"),t=document.getElementById("cancel-confirm");e.remove(),t.style.display="block"},a.cancelConfirmHandler=Object(_.a)(S.a.mark((function e(){var t;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=document.querySelector(".overlay")).style.display="block",e.next=4,fetch("/booking/ticket/cancel",{method:"POST",body:JSON.stringify({id:a.props.location.state.data._id}),headers:{"content-type":"application/json"}}).then((function(e){return e.json()})).then((function(e){"success"===e.cancelled&&fetch("/extapi/payments/"+a.props.location.state.data.paymentId+"/refund",{method:"POST",body:JSON.stringify({}),headers:{"content-type":"application/json",authorization:"Basic cnpwX3Rlc3Rfa0hiVWVmN1diTVJJQ3M6dUF1UHRRRExBbXN3aEZHb0NDYklCdWZz"}}).then((function(e){return e.json()})).then((function(e){document.getElementById("cancel-confirm").innerHTML="";var a=document.getElementById("ticket-page"),n=document.createElement("h2");n.innerHTML="we have initiated your refund. Refund Id : "+e.id+"<br/>current status of your refund : "+e.status,a.appendChild(n),t.style.display="none"}))}));case 4:case"end":return e.stop()}}),e)}))),a.state={paymentObject:Object},a.ticketStatus(a.props.location.state.data.paymentId),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.location.state.data,t=0;return l.a.createElement("div",{id:"ticket-page"},l.a.createElement("h1",null,"Ticket Details"),null!==this.state.paymentObject.refund_status?l.a.createElement("img",{src:ce.a,alt:"cancelled"}):new Date(e.arrival_date)<new Date?l.a.createElement("img",{src:de.a,alt:"completed"}):l.a.createElement("img",{src:ue.a,alt:"booked"}),l.a.createElement("div",null,"PNR no. "),l.a.createElement("div",null,":"),l.a.createElement("div",null," ",e._id),l.a.createElement("div",null,"Booked by "),l.a.createElement("div",null,":"),l.a.createElement("div",null," ",e.user.f_name+" "+e.user.l_name),l.a.createElement("div",null,"Train Name "),l.a.createElement("div",null,":"),l.a.createElement("div",null," ",e.train_name),l.a.createElement("div",null,"Train No. "),l.a.createElement("div",null,":"),l.a.createElement("div",null," ",e.train_no),l.a.createElement("div",null,"Teir : "),l.a.createElement("div",null,":"),l.a.createElement("div",null," ",e.teir),l.a.createElement("div",null,"Passenger Count "),l.a.createElement("div",null,":"),l.a.createElement("div",null," ",e.count),l.a.createElement("div",null,"Source Station "),l.a.createElement("div",null,":"),l.a.createElement("div",null," ",e.src_stn.name),l.a.createElement("div",null,"Destination Station "),l.a.createElement("div",null,":"),l.a.createElement("div",null," ",e.des_stn.name),l.a.createElement("div",null,"Departure Time "),l.a.createElement("div",null,":"),l.a.createElement("div",null," ",new Date(e.depart_date).toLocaleString()),l.a.createElement("div",null,"Arrival Time "),l.a.createElement("div",null,":"),l.a.createElement("div",null," ",new Date(e.arrival_date).toLocaleString()),l.a.createElement("div",null,"Ticket Price "),l.a.createElement("div",null,":"),l.a.createElement("div",null," ",e.cost.$numberDecimal),l.a.createElement("div",null,"Payment Id"),l.a.createElement("div",null,":"),l.a.createElement("div",null," ","full"===this.state.paymentObject.refund_status?"Refunded":this.state.paymentObject.id),l.a.createElement("div",{style:{gridColumn:"span 3"}},l.a.createElement("div",{style:{fontWeight:"bold",borderBottom:"1px solid lightgray",textAlign:"center"}},"Passenger Details"),l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Sr. No."),l.a.createElement("th",null,"Name"),l.a.createElement("th",null,"Gender"),l.a.createElement("th",null,"Age"),l.a.createElement("th",null,"Food"))),l.a.createElement("tbody",null,e.passengers.map((function(e){return l.a.createElement("tr",{key:t++},l.a.createElement("td",null,t),l.a.createElement("td",null,e.name),l.a.createElement("td",null,e.gender),l.a.createElement("td",null,e.age),l.a.createElement("td",null,e.food))}))))),l.a.createElement("div",null),null!==this.state.paymentObject.refund_status||new Date(e.arrival_date)<new Date?"":l.a.createElement("button",{id:"cancel",onClick:this.cancelHandler},"Cancel ticket"),l.a.createElement("div",null),l.a.createElement("div",{id:"cancel-confirm"},l.a.createElement("p",null,"Refund will be possessed to original source of payment within 5-7 days."),l.a.createElement("button",{onClick:this.cancelConfirmHandler},"Confirm")),l.a.createElement("div",{className:"overlay",style:{display:"block"}},l.a.createElement("div",{className:"circular-loader",style:{position:"absolute",top:"45vh",left:"45vw"}}),l.a.createElement("p",{style:{position:"absolute",top:"60vh",left:"43vw"}},"Please Wait...")))}}]),t}(n.Component),he=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).loadTicket=function(e){e.preventDefault();var t=document.querySelector(".overlay");t.style.display="block";var n=document.getElementById("find-ticket");fetch("/booking/ticket/search/",{method:"POST",body:JSON.stringify({pnr:n[0].value}),headers:{"Content-type":"application/json; charset=UTF-8"}}).then((function(e){return e.json()})).then((function(e){"success"===e.found?a.props.history.push({pathname:"/ticket/",search:"",state:Object(v.a)({},e)}):(t.style.display="none",alert("Wrong PNR"))}))},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",null,l.a.createElement("h1",null,"Check PNR status"),l.a.createElement("form",{onSubmit:this.loadTicket,id:"find-ticket"},l.a.createElement("input",{type:"text",name:"pnr",id:"pnr",placeholder:"Enter your PNR no."}),l.a.createElement("input",{type:"submit",value:"Find Ticket"})),l.a.createElement("div",{className:"overlay"},l.a.createElement("div",{className:"circular-loader",style:{position:"absolute",top:"45vh",left:"45vw"}}),l.a.createElement("p",{style:{position:"absolute",top:"60vh",left:"43vw"}},"Please Wait...")))}}]),t}(n.Component),Ee=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"about-page"},l.a.createElement("div",{style:{gridColumn:"span 3"}},l.a.createElement("h2",null,"About Developer"),l.a.createElement("p",null,"Name : Sanjay Majhi"),l.a.createElement("p",null,"I am a full stack web developer and a pround Indian. This Website is one of my project."),l.a.createElement("p",null,"For github profile :"," ",l.a.createElement("a",{href:"https://github.com/sanjaymajhi"},"sanjaymajhi")),l.a.createElement("p",null,"For queries contact :"," ",l.a.createElement("a",{href:"mailto:1sanjaymajhi@gmail.com"},"1sanjaymajhi@gmail.com")," "),l.a.createElement("h2",null,"About the project"),l.a.createElement("p",null,"This project is a full stack Train booking Website."),l.a.createElement("p",null,"You can see trains running on particular days ,book tickets in them, make demo payment and see tickets, cancel bookings. Admin facilities are also available to add trains,routes and stations."),l.a.createElement("p",null,"Note : This website is not official website of any company/organistaion.")),l.a.createElement("div",null,l.a.createElement("h3",null,"Front end includes : "),l.a.createElement("ul",null,l.a.createElement("li",null,"HTML"),l.a.createElement("li",null,"CSS with SASS"),l.a.createElement("li",null,"Reactjs"))),l.a.createElement("div",null,l.a.createElement("h3",null,"Back end includes : "),l.a.createElement("ul",null,l.a.createElement("li",null,"Nodejs runtime engine"),l.a.createElement("li",null,"Expressjs framework"))),l.a.createElement("div",null,l.a.createElement("h3",null,"DBMS used : "),l.a.createElement("ul",null,l.a.createElement("li",null,"MongoDB Atlas"),l.a.createElement("li",null,"Mongoose ODM"))),l.a.createElement("div",null,l.a.createElement("h3",null,"Payment gateway used :"),l.a.createElement("ul",null,l.a.createElement("li",null,"Razorpay Payment Links Api in test mode"))),l.a.createElement("div",null,l.a.createElement("h3",null,"Authentication System used : "),l.a.createElement("ul",null,l.a.createElement("li",null,"JWT based token authentication"))),l.a.createElement("div",null,l.a.createElement("h3",null,"User passwords in database : "),l.a.createElement("ul",null,l.a.createElement("li",null,"Encypted using bcryptjs"))))}}]),t}(n.Component),be=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return l.a.createElement("div",{className:"faq-page"},l.a.createElement("h2",null,"FAQs"),l.a.createElement("p",null,l.a.createElement("strong",null,"Q- "),"How is ticket cost determined ?",l.a.createElement("br",null),l.a.createElement("strong",null,"Ans. "),"Ticket price of sleeper class is base price of that train ticket.",l.a.createElement("br",null),"1A = 2.5 * base price",l.a.createElement("br",null),"2A = 2 * base price",l.a.createElement("br",null),"3A = 1.5 * base price",l.a.createElement("br",null),"CC = 0.5 * base price"),l.a.createElement("p",null,l.a.createElement("strong",null,"Q- "),"What is the price of food ?",l.a.createElement("br",null),l.a.createElement("strong",null,"Ans. "),"For Veg,it is 80rs per passenger. ",l.a.createElement("br",null),"For Non-Veg, it is 130rs per passenger."),l.a.createElement("p",null,l.a.createElement("strong",null,"Q- "),"Is there any concession for senior citizens?",l.a.createElement("br",null),l.a.createElement("strong",null,"Ans. "),"Yes, for senior citizens there is a concession of 50% of ticket price, it will be auto applied, if passenger age is greater than or equal to 60."),l.a.createElement("p",null,l.a.createElement("strong",null,"Q- "),"What is covenience fee ?",l.a.createElement("br",null),l.a.createElement("strong",null,"Ans. "),"It is 15rs for SL and CC tickets and 35rs for 1A, 2A, 3A tickets."),l.a.createElement("p",null,l.a.createElement("strong",null,"Q- "),"What is the gst on tickets?",l.a.createElement("br",null),l.a.createElement("strong",null,"Ans. ")," It is 5% of the total ticket price."))}}]),t}(n.Component),ye=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(l)))).state={token:localStorage.getItem("token"),admin:Boolean},a.tokenhandler=function(e,t){a.setState({token:e,admin:t})},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return l.a.createElement(d.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(y,{handleToken:this.tokenhandler,token:this.state.token,admin:this.state.admin}),l.a.createElement(D.c,null,l.a.createElement(D.a,{path:"/",exact:!0,component:C}),l.a.createElement(D.a,{path:"/user/login",render:function(t){return l.a.createElement(w,Object.assign({},t,{handleToken:e.tokenhandler}))}}),l.a.createElement(D.a,{path:"/user/register",component:N}),l.a.createElement(D.a,{path:"/user/logout",component:C}),l.a.createElement(D.a,{path:"/search",render:function(e){return l.a.createElement(M,e)}}),l.a.createElement(D.a,{path:"/admin/",render:function(e){return l.a.createElement(P,e)}}),l.a.createElement(D.a,{path:"/user/",render:function(e){return l.a.createElement(ie,e)}}),l.a.createElement(D.a,{path:"/book/",component:te}),l.a.createElement(D.a,{path:"/ticket/",component:pe}),l.a.createElement(D.a,{path:"/pnr/",component:he}),l.a.createElement(D.a,{path:"/faq",component:be}),l.a.createElement(D.a,{path:"/about",component:Ee}),l.a.createElement(D.a,{path:"/contact",component:T}))))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[38,1,2]]]);
//# sourceMappingURL=main.bac9f6f1.chunk.js.map